"use strict";var p=Object.create;var i=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var l=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var h=(t,e)=>{for(var o in e)i(t,o,{get:e[o],enumerable:!0})},m=(t,e,o,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of u(e))!v.call(t,r)&&r!==o&&i(t,r,{get:()=>e[r],enumerable:!(n=g(e,r))||n.enumerable});return t};var f=(t,e,o)=>(o=t!=null?p(l(t)):{},m(e||!t||!t.__esModule?i(o,"default",{value:t,enumerable:!0}):o,t)),y=t=>m(i({},"__esModule",{value:!0}),t);var w={};h(w,{activate:()=>k,deactivate:()=>C});module.exports=y(w);var s=f(require("vscode"));function k(t){let e=new c(t);s.window.registerTreeDataProvider("hotkeysView",e);let o=s.commands.registerCommand("hotkeys.refresh",()=>{e.refresh()});t.subscriptions.push(o)}function C(){}var c=class{constructor(e){this.context=e;this.loadHotkeys()}_onDidChangeTreeData=new s.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;items=[];async loadHotkeys(){try{let e=s.Uri.joinPath(this.context.extensionUri,"hotkeys.json"),o=await s.workspace.fs.readFile(e),n=Buffer.from(o).toString("utf8");this.items=JSON.parse(n)}catch(e){s.window.showErrorMessage(`Cannot load hotkeys.json: ${String(e)}`),this.items=[]}}refresh(){this.loadHotkeys(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){if(!e){let n=Array.from(new Set(this.items.map(r=>r.group))).map(r=>{let d=new a(r,s.TreeItemCollapsibleState.Collapsed);return d.isGroup=!0,d.group=r,d});return Promise.resolve(n)}if(e.isGroup&&e.group){let o=this.items.filter(n=>n.group===e.group).map(n=>{let r=new a(`(${n.key}) ${n.label}`,s.TreeItemCollapsibleState.None);return r.isGroup=!1,r.group=n.group,r.keyBinding=n.key,r.commandId=n.command,r});return Promise.resolve(o)}return Promise.resolve([])}},a=class extends s.TreeItem{isGroup=!1;group;keyBinding;commandId;constructor(e,o){super(e,o)}};0&&(module.exports={activate,deactivate});
